(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[465],{465:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>m});var o=s(7557),a=s(9526),t=s(2984),c=s(6913),r=s(4333),d=s(5615),i=s(2838);const l={main:`${i.ho}/`,other:`${i.ho}/other`},p=(0,d.io)(l.main),u=(0,a.lazy)((()=>Promise.all([s.e(720),s.e(200)]).then(s.bind(s,6200))));class h extends a.Component{constructor(){super(...arguments),this.componentDidMount=async()=>{const{connected:e,loadNewsAsync:n,loadUserAsync:s,authenticateAsync:o}=this.props;await o();p.on("connect",(()=>{console.log("main namespace connected successfully"),e()})),p.on("disconnect",(()=>{e(!1)})),setTimeout((()=>{n()}),1e3),s()}}componentWillUnmount(){p.disconnect()}render(){return void 0===this.props.app.loggedIn?(0,o.jsxs)("div",Object.assign({className:"flex items-center justify-center w-full h-screen bg-light dark:bg-dark"},{children:[(0,o.jsx)("div",{className:"w-3.5 h-3.5 mx-1 rounded-full bg-primary animate-bounce-step-1"},void 0),(0,o.jsx)("div",{className:"w-3.5 h-3.5 mx-1 rounded-full bg-primary animate-bounce-step-2"},void 0),(0,o.jsx)("div",{className:"w-3.5 h-3.5 mx-1 rounded-full bg-primary animate-bounce-step-3"},void 0)]}),void 0):(0,o.jsx)(a.Suspense,Object.assign({fallback:null},{children:(0,o.jsx)(u,{},void 0)}),void 0)}}const m=(0,t.$j)((e=>({app:e.app,home:e.home})),{connected:c.Bm,loadNewsAsync:r.oU,loadUserAsync:r.C_,authenticateAsync:c.Nz})(h)},4333:(e,n,s)=>{"use strict";s.d(n,{oU:()=>t,C_:()=>c,a3:()=>r,xu:()=>d});var o=s(3730),a=s(5387);const t=()=>(e,n)=>{const s=n().home,t=s.news?.meta.next_page_url||"",c=s.news?.meta.next_page_url;s.news&&!c||a.h.post(`/news${t}`).then((n=>{var s;e((s=n.data,{type:o.Gg,payload:{news:s}}))})).catch((e=>{console.error(e)}))},c=()=>(e,n)=>{n().home.users||a.h.post("/users").then((n=>{var s;e((s={data:n.data},{type:o.vu,payload:{user:s}}))})).catch((e=>{console.error(e)}))},r=()=>(e,n)=>{const{app:s,home:t}=n(),c=s.auth?.token||"";t.conversations||a.h.post("/conversations",{},{headers:{Authorization:`Bearer ${c}`}}).then((n=>{var s;console.log(n.data),e((s={data:n.data},{type:o.Eq,payload:{conversation:s}}))})).catch((e=>{console.error(e)}))},d=e=>({type:o.tr,payload:{id:e}})}}]);